<div class="app-header">
  <h1>Lightboard Control</h1>
  <span class="settings-icon" (click)="toggleSettingsModal()" title="Settings">&#9881;</span>
</div>

<main class="main">
  <div class="main-layout">
    <div class="page-content">
      <div class="sliders-area">
        <div class="channel-slider-rows">
          <h2 class="scene-label">Scene 1</h2>
          <div class="slider-row" id="row1">
            <app-slide-potentiometer
              *ngFor="let state of row1States; let i = index"
              [channelNumber]="state.channelNumber"
              [channelDescription]="state.channelDescription"
              [(value)]="state.value"
              (valueChange)="onPotentiometerChange()"
              [color]="state.color"
              (colorChange)="state.color = $event; onPotentiometerChange()"
              [showChannelInfo]="true">
            </app-slide-potentiometer>
          </div>
          <h2 class="scene-label">Scene 2</h2>
          <div class="slider-row" id="row2">
            <app-slide-potentiometer
              *ngFor="let state of row2States; let i = index"
              [channelNumber]="state.channelNumber"
              [channelDescription]="state.channelDescription"
              [(value)]="state.value"
              (valueChange)="onPotentiometerChange()"
              [color]="state.color"
              (colorChange)="state.color = $event; onPotentiometerChange()"
              [showChannelInfo]="true">
            </app-slide-potentiometer>
          </div>
        </div>
        <div class="crossfader-column">
          <app-slide-potentiometer
            id="crossfader"
            [channelNumber]="0"
            channelDescription="X-Fader"
            [(value)]="crossfaderValue"
            (valueChange)="onPotentiometerChange()"
            [sliderHeight]="'320px'"
            [showChannelInfo]="false">
          </app-slide-potentiometer>
          <button (click)="onGoButtonClick()" class="go-button" [disabled]="isAnimating">Go</button>
        </div>
      </div>
      <div class="table-column">
        <app-channel-values-table [channelData]="combinedOutputStates"></app-channel-values-table>
      </div>
    </div>
  </div>
</main>

<app-settings-modal *ngIf="showSettingsModal" (close)="toggleSettingsModal()"></app-settings-modal>

<router-outlet />
